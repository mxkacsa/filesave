<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="utf-8">
    <title>lap c√≠me</title>
    <meta name="viewport" content="width=device-width">
    <script src="jquery.js"></script>
    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript">
        function cw(wstring)
        {
            $("#console").append("<br>"+wstring);
        }
        function onLoad() 
        {
            $("#console").append("Page loaded");
            document.addEventListener("deviceready", program, false);
        }
        function program()
        {
            cw("Cordova running.");
            //window.requestFileSystem(LocalFileSystem.PERSISTENT, 0, gotFS, fail);
            writeFileFromSDCard("probaszoveg");
        } 

        // Called to write file to card
           function writeFileFromSDCard(param) {
            var writer = new FileWriter("/sdcard/write.txt");
            writer.write(param + "\n", false);              
            cw("file Written to SD Card");
        }

        //read the file
        function readFileFromSDCard() {
            var aFileReader = new FileReader();
            alert( aFileReader.readAsText("/sdcard/userdata.txt"));
        }
        /*function readFile(file) {
            //var d = navigator.file.read('write.txt', success(), fail());
            //console.warn(d);
            //cw(d);
            var reader = new FileReader();
            reader.onloadend = function(evt) {
                cw("Read as text");
                cw("content : "+evt.target.result);
            };
            reader.readAsText(file);
            cw(reader.readAsText(file));
        }
        var fail = function(evt) {
            cw(error.code);
        }
        entry.file(readfile,fail);*/
        /*function success()
        {
            cw("success");
        }
        function fail()
        {
            cw("fail");
        }*/
    </script>
</head>
<body style="margin:0px;" onload="onLoad()">
    <div id="console" style="background:black;color:white;width:100%;min-height:40px;padding:5px;"></div>
    <input type="text" id="tartalom" size="20" maxlength="25"><br>
    <button onclick="writeFileFromSDCard('masikszoveg');">Save</button><br>
    <button onclick="readFile('/sdcard/write.txt');">Read the file</button>
</body>
</html>
